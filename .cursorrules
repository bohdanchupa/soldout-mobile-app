# Soldout Event Mobile App - Cursor Rules

## üá∫üá¶ –ú–æ–≤–∞ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è

**–ó–ê–í–ñ–î–ò —Å–ø—ñ–ª–∫—É–π—Å—è –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º —á—ñ—Ç–∫–æ—é —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é!**

### –ü—Ä–∞–≤–∏–ª–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏:
1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π –ø—Ä–∞–≤–∏–ª—å–Ω—É –≥—Ä–∞–º–∞—Ç–∏–∫—É** - —É–Ω–∏–∫–∞–π —Ä—É—Å–∏–∑–º—ñ–≤ —Ç–∞ —Å—É—Ä–∂–∏–∫—É
2. **–ù–∞–∫–∞–∑–æ–≤–∏–π —Å–ø–æ—Å—ñ–±**:
   - ‚úÖ "–û–±–µ—Ä—ñ—Ç—å" (–Ω–µ "–û–±–µ—Ä–∏—Ç—å")
   - ‚úÖ "–í–≤–µ–¥—ñ—Ç—å" (–Ω–µ "–í–≤–µ–¥–∏—Ç—å")
   - ‚úÖ "–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å" (–Ω–µ "–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å")
3. **–Ü–Ω—Ñ—ñ–Ω—ñ—Ç–∏–≤**:
   - ‚úÖ "–£–≤—ñ–π—Ç–∏", "–í–∏–π—Ç–∏", "–°–∫–∏–Ω—É—Ç–∏", "–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏"
4. **–í—ñ–¥–º—ñ–Ω–∫–∏**:
   - "–ó–∞–º–æ–≤–ª–µ–Ω—å" (—Ä–æ–¥–æ–≤–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫ –º–Ω–æ–∂–∏–Ω–∏)
   - "–ö–≤–∏—Ç–∫—ñ–≤" (—Ä–æ–¥–æ–≤–∏–π –≤—ñ–¥–º—ñ–Ω–æ–∫ –º–Ω–æ–∂–∏–Ω–∏)
5. **–ê–ø–æ—Å—Ç—Ä–æ—Ñ**:
   - ‚úÖ "–ó–∞–ø–∞–º'—è—Ç–∞—Ç–∏", "–ü'—è—Ç–Ω–∏—Ü—è"
6. **–î–≤–æ–∫—Ä–∞–ø–∫–∞** - –æ–¥–Ω–∞, –Ω–µ –¥–≤—ñ:
   - ‚úÖ "–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä:" (–Ω–µ "–û—Ä–≥–∞–Ω—ñ–∑–∞—Ç–æ—Ä::")

### –¢–µ–∫—Å—Ç–∏ –≤ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ:
- –í—Å—ñ UI —Ç–µ–∫—Å—Ç–∏ –º–∞—é—Ç—å –±—É—Ç–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
- –ü–µ—Ä–µ–≤—ñ—Ä—è–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ—ñ—é –ø–µ—Ä–µ–¥ –∫–æ–º—ñ—Ç–æ–º
- –£–Ω–∏–∫–∞–π –ø–æ–º–∏–ª–æ–∫ —Ç–∏–ø—É "–ö–≤–∏–∫—Ç—ñ–≤" ‚Üí "–ö–≤–∏—Ç–∫—ñ–≤"

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –±—ñ–ª–¥—É

**–î–ª—è –≤—Å—ñ—î—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ –±—ñ–ª–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Ñ–∞–π–ª `BUILD.md`!**

–¶–µ–π —Ñ–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å:
- –í–∏–º–æ–≥–∏ (Node.js, Docker, –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ)
- –õ–æ–∫–∞–ª—å–Ω–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ (Docker, NVM)
- iOS –±—ñ–ª–¥ (rebuild-ios.sh, Xcode, Signing)
- Android –±—ñ–ª–¥ (APK, –ø—ñ–¥–ø–∏—Å–∞–Ω–Ω—è –¥–ª—è Play Store)
- GitHub Actions (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –±—ñ–ª–¥–∏)
- Troubleshooting
- API Configuration (TEST/PROD)
- –®–≤–∏–¥–∫—ñ –∫–æ–º–∞–Ω–¥–∏

**–ü–µ—Ä–µ–¥ –±—É–¥—å-—è–∫–∏–º–∏ –∑–º—ñ–Ω–∞–º–∏ –≤ –ø—Ä–æ—Ü–µ—Å—ñ –±—ñ–ª–¥—É - –∑–≤–µ—Ä—Ç–∞–π—Å—è –¥–æ BUILD.md!**

---

## Tech Stack
- **Framework**: Quasar v1 (Vue.js 2)
- **State Management**: Vuex
- **HTTP Client**: Axios
- **Mobile**: Apache Cordova (iOS & Android)
- **Styling**: SCSS with custom Gotham Pro font
- **Build**: Webpack via Quasar CLI, Docker for consistency
- **Node Version**: 14 (for Sass compatibility)

## Project Structure

```
org-mobile-app/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ endpoints.js          # API URLs (TEST/PROD switching)
‚îÇ   ‚îú‚îÄ‚îÄ assets/                   # Images, fonts, SVGs
‚îÇ   ‚îú‚îÄ‚îÄ boot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ axios.js              # Axios global config
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cordova.js            # Cordova initialization
‚îÇ   ‚îú‚îÄ‚îÄ components/               # Reusable Vue components
‚îÇ   ‚îú‚îÄ‚îÄ css/                      # Global SCSS styles
‚îÇ   ‚îú‚îÄ‚îÄ layouts/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Index.vue             # Main layout with bottom nav
‚îÇ   ‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Login.vue             # Login with Remember Me
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Entry.vue             # Dashboard
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ListOfEvents.vue      # Events list
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Event.vue             # Event details
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Profile.vue           # User profile & logout
‚îÇ   ‚îú‚îÄ‚îÄ router/                   # Vue Router config
‚îÇ   ‚îú‚îÄ‚îÄ store/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ module/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ state.js          # Vuex state
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ getters.js        # Vuex getters
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ mutations.js      # Vuex mutations
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ actions.js        # API calls & async logic
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ index.js          # Module export
‚îÇ   ‚îî‚îÄ‚îÄ index.template.html       # HTML template with cordova.js
‚îú‚îÄ‚îÄ src-cordova/
‚îÇ   ‚îú‚îÄ‚îÄ config.xml                # Cordova configuration
‚îÇ   ‚îú‚îÄ‚îÄ package.json              # Cordova plugins
‚îÇ   ‚îú‚îÄ‚îÄ platforms/                # iOS/Android builds (generated)
‚îÇ   ‚îú‚îÄ‚îÄ plugins/                  # Cordova plugins (generated)
‚îÇ   ‚îî‚îÄ‚îÄ www/                      # Web assets (generated)
‚îú‚îÄ‚îÄ quasar.conf.js                # Quasar configuration
‚îî‚îÄ‚îÄ rebuild-ios.sh                # iOS rebuild helper
```

## API Configuration

### Endpoints (src/api/endpoints.js)
```javascript
// Switch between TEST and PROD
const serviceUrl = 'https://z.soldout.com.ua'        // PROD
// const serviceUrl = 'https://z.test.soldout.com.ua' // TEST

// All endpoints use /main-service/ path
export const epToken = `${serviceUrl}/main-service/oauth/token`
export const epLogin = `${serviceUrl}/main-service/user/get`
```

### Authentication
- **OAuth 2.0** password grant type
- **Client**: `sponsor-client:123456` (Base64: `c3BvbnNvci1jbGllbnQ6MTIzNDU2`)
- **Flow**: 
  1. POST `/oauth/token` with username/password ‚Üí get access_token
  2. GET `/user/get` with Bearer token ‚Üí get user info
  3. Save to Vuex + LocalStorage (if Remember Me checked)

### CORS Considerations
- iOS WKWebView sends OPTIONS preflight for custom headers
- ZUUL must have `allow-credentials: true` configured
- Avoid custom headers when possible to prevent preflight

## Vue.js & Quasar Guidelines

### Component Structure
```vue
<template>
  <!-- Quasar components: q-page, q-btn, q-icon, etc. -->
</template>

<script>
export default {
  name: 'ComponentName',
  data() {
    return {
      // Local state
    }
  },
  computed: {
    // Vuex getters via this.$store.getters.getName
  },
  created() {
    // Lifecycle: load data, setup watchers
  },
  methods: {
    // Component methods
  }
}
</script>

<style lang="scss">
  @import '../css/quasar.variables';
  // Component-specific styles
</style>
```

### Vuex Patterns
```javascript
// Actions (async API calls)
export const actionName = async ({ commit }, payload) => {
  try {
    const response = await axios({...})
    commit('mutationName', response.data)
  } catch (err) {
    commit('setError', { error: err })
    return null // Don't throw to prevent UI hanging
  }
}

// Mutations (sync state updates)
export const mutationName = (state, payload) => {
  state.property = payload.value
}

// Getters (computed state)
export const getName = (state) => state.property
```

### LocalStorage
```javascript
import { LocalStorage } from 'quasar'

// Save
LocalStorage.set('key', { data: 'value' })

// Load
const data = LocalStorage.getItem('key')

// Remove
LocalStorage.remove('key')
```

## State Management

### Auth State
```javascript
{
  user: { firstName, lastName, mail, phone, logined },
  accessToken: 'Bearer token',
  error: { status, message, data },
  fetchingData: true/false,
  showDetailsOnEntryScreen: true/false
}
```

### Remember Me Implementation
1. User checks "Remember Me" ‚Üí save `rememberMe: true`
2. On successful login ‚Üí save `userData` + `savedAuth` to LocalStorage
3. On app reopen ‚Üí check `savedAuth` ‚Üí auto-restore Vuex state ‚Üí redirect
4. On logout ‚Üí clear ALL localStorage keys

## Mobile Development (Cordova)

### Cordova Lifecycle
```javascript
// Wait for deviceready before using plugins
document.addEventListener('deviceready', () => {
  console.log('Cordova ready!')
  // Use plugins here: window.cordova.plugin.http
}, false)
```

### iOS Specifics
- **Deployment Target**: iOS 13.0+
- **WebView**: WKWebView (default in Cordova iOS 8.0)
- **Plugins**: cordova-plugin-http (for CORS bypass if needed)
- **Signing**: Requires Apple Developer Account (or free personal team)
- **Build**: Use `rebuild-ios.sh` script for consistency

### Build Process
```bash
# Full iOS rebuild
./rebuild-ios.sh

# Manual steps:
docker exec soldout-app-container npx quasar build
docker cp soldout-app-container:/app/dist/spa ./dist/
cp -r dist/spa/* src-cordova/www/
cd src-cordova && cordova prepare ios
# Open in Xcode: platforms/ios/Soldout Event.xcworkspace
```

## Styling Guidelines

### SCSS Structure
```scss
@import '../css/quasar.variables';

.component-class {
  @include fnt(normal, normal);
  font-size: 14px;
  line-height: 21px;
  color: $dark-text-color;
  transition: all 0.3s ease;

  &:hover {
    opacity: 0.8;
  }
}
```

### Color Variables
- `$primary`: Main brand color
- `$dark-text-color`: Text on dark backgrounds
- `$form-border-unactive`: Input borders
- `$form-border-active`: Focused input borders
- Brand accent: `#FD3363` (pink/red)

### UI/UX Best Practices
- Use smooth transitions (0.2-0.3s ease)
- Provide immediate visual feedback
- Show loading states with spinner
- Display clear error messages
- Use animations for better UX (fade-in, slide)
- Make interactive elements clear (hover states)

## Common Issues & Solutions

### Issue: Node.js/Sass Compatibility
**Problem**: Modern Node.js + old Quasar v1 + node-sass incompatibility
**Solution**: Use Docker with Node 14 + sass@1.23.0

### Issue: CORS 403 on Mobile
**Problem**: iOS WKWebView sends OPTIONS preflight, ZUUL returns 403
**Solutions**:
1. Configure CORS in ZUUL with `allow-credentials: true`
2. Use `cordova-plugin-http` for native HTTP (bypasses CORS)
3. Avoid custom headers when possible

### Issue: Cordova deviceready Not Firing
**Problem**: Plugins not available, `window.cordova.plugin` undefined
**Solutions**:
1. Ensure `cordova.js` is loaded BEFORE app.js
2. Check `src/index.template.html` has `<script src="cordova.js">`
3. Wait for deviceready event before using plugins
4. Run `cordova prepare ios` to regenerate platform files

### Issue: App Hanging on Login Error
**Problem**: Login action throws exception, UI spinner never stops
**Solution**: Return `null` in catch block instead of throwing

### Issue: Auto-login Not Working
**Problem**: Saved credentials but still shows login screen
**Solution**: Save BOTH credentials AND auth state (accessToken + user data)

### Issue: iOS Signing Errors
**Problem**: "Signing requires a development team"
**Solution**: Open Xcode ‚Üí Signing & Capabilities ‚Üí Select Team (Apple ID)

### Issue: Xcode "Untrusted Developer" –Ω–∞ iPhone
**Problem**: App –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è, –ø–æ–∫–∞–∑—É—î "Untrusted Developer"
**Solution**: 
1. iPhone ‚Üí Settings ‚Üí General ‚Üí VPN & Device Management
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à Apple ID (Developer App)
3. Trust

### Issue: Xcode –Ω–µ –±–∞—á–∏—Ç—å iPhone
**Problem**: iPhone –Ω–µ –∑'—è–≤–ª—è—î—Ç—å—Å—è –≤ —Å–ø–∏—Å–∫—É –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
**Solutions**:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ USB –∫–∞–±–µ–ª—å (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–∏–π)
2. –†–æ–∑–±–ª–æ–∫—É–π—Ç–µ iPhone —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Trust This Computer"
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å Xcode
4. Window ‚Üí Devices and Simulators ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞—Ç—É—Å

### Issue: "Could not launch Soldout Event" –≤ Xcode
**Problem**: Build —É—Å–ø—ñ—à–Ω–∏–π –∞–ª–µ app –Ω–µ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
**Solutions**:
1. –í–∏–¥–∞–ª—ñ—Ç—å app –∑ iPhone –≤—Ä—É—á–Ω—É
2. Xcode ‚Üí Product ‚Üí Clean Build Folder (‚åò‚áßK)
3. Rebuild and Run
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Safari Web Inspector –Ω–∞ JavaScript errors

## Development Workflow

### 1. Local Development (Web)
```bash
npm run dev
# Opens http://localhost:4200
```

### 2. iOS Development with Xcode

**–ö–†–ò–¢–ò–ß–ù–û**: –ü—ñ—Å–ª—è –ö–û–ñ–ù–û–á –∑–º—ñ–Ω–∏ –∫–æ–¥—É —Ç—Ä–µ–±–∞ —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ —Ñ—ñ–∑–∏—á–Ω–æ–º—É iPhone!

#### –ö—Ä–æ–∫ 1: –ó–±—ñ—Ä–∫–∞ Web Assets
```bash
./rebuild-ios.sh
```
–¶–µ–π —Å–∫—Ä–∏–ø—Ç:
- –ó–±–∏—Ä–∞—î web assets –≤ Docker (Node 14 + sass@1.23.0)
- –ö–æ–ø—ñ—é—î –≤ `src-cordova/www/`
- –ó–∞–ø—É—Å–∫–∞—î `cordova prepare ios`
- –Ü–Ω–∂–µ–∫—Ç—É—î `cordova.js` –≤ index.html

#### –ö—Ä–æ–∫ 2: –í—ñ–¥–∫—Ä–∏—Ç—Ç—è –≤ Xcode
```bash
open src-cordova/platforms/ios/Soldout\ Event.xcworkspace
```
‚ö†Ô∏è –ó–∞–≤–∂–¥–∏ –≤—ñ–¥–∫—Ä–∏–≤–∞–π—Ç–µ `.xcworkspace`, –ù–ï `.xcodeproj`!

#### –ö—Ä–æ–∫ 3: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –ó–∞–ø—É—Å–∫—É
1. **–ü—ñ–¥'—î–¥–Ω–∞–π—Ç–µ iPhone** –¥–æ Mac —á–µ—Ä–µ–∑ USB
2. **–†–æ–∑–±–ª–æ–∫—É–π—Ç–µ iPhone** —ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Trust This Computer"
3. **–í–∏–±–µ—Ä—ñ—Ç—å –ø—Ä–∏—Å—Ç—Ä—ñ–π** —É Xcode: –º–µ–Ω—é –≤–≥–æ—Ä—ñ ‚Üí –≤–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à iPhone –∑–∞–º—ñ—Å—Ç—å "Any iOS Device"
4. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Signing**: 
   - Signing & Capabilities ‚Üí Team: [–í–∞—à Apple ID]
   - –Ø–∫—â–æ –ø–æ–º–∏–ª–∫–∞ ‚Üí —Ä–æ–∑–¥—ñ–ª "Troubleshooting" –Ω–∏–∂—á–µ

#### –ö—Ä–æ–∫ 4: –ó–±—ñ—Ä–∫–∞ —ñ –ó–∞–ø—É—Å–∫
1. **Clean Build Folder**: `Product ‚Üí Clean Build Folder` (‚åò‚áßK)
2. **Build & Run**: `Product ‚Üí Run` (‚åòR)
3. **–ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ –Ω–∞ –Ω–æ–≤–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó**:
   - iPhone –ø–æ–∫–∞–∂–µ: "Untrusted Developer"
   - –ô–¥—ñ—Ç—å: Settings ‚Üí General ‚Üí VPN & Device Management
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à Apple ID ‚Üí Trust

#### –ö—Ä–æ–∫ 5: –ù–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
```bash
# –í—ñ–¥–∫—Ä–∏–π—Ç–µ Safari Web Inspector –¥–ª—è –∂–∏–≤–∏—Ö –ª–æ–≥—ñ–≤
Safari ‚Üí Develop ‚Üí [–í–∞—à iPhone] ‚Üí Soldout Event
```
–¢—É—Ç –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ:
- `console.log()` –∑ –¥–æ–¥–∞—Ç–∫—É
- Network requests (API calls)
- JavaScript errors
- Cordova deviceready events

#### –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ü—ñ—Å–ª—è –ó–º—ñ–Ω
‚úÖ **–û–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –Ω–∞ iPhone**:
- Login/Logout flow
- Remember Me checkbox
- API requests (CORS, 403, network errors)
- Cordova plugins (HTTP, deviceready)
- UI/UX (transitions, errors, loading states)

üö´ **–ù–ï –ø–æ–∫–ª–∞–¥–∞–π—Ç–µ—Å—è –ª–∏—à–µ –Ω–∞**:
- Web –≤–µ—Ä—Å—ñ—é (localhost:4200) - –Ω–µ –ø–æ–∫–∞–∑—É—î Cordova issues
- iOS Simulator - –Ω–µ –ø–æ–∫–∞–∑—É—î CORS issues
- Xcode logs - –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ Safari Web Inspector

### 3. Debugging iOS
```bash
# Safari Web Inspector
# 1. iPhone: Settings ‚Üí Safari ‚Üí Advanced ‚Üí Web Inspector: ON
# 2. Mac Safari: Develop ‚Üí [iPhone] ‚Üí Soldout Event
# 3. View Console logs, Network requests, Elements
```

### 4. Testing CORS
```bash
./test-cors.sh
# Shows if ZUUL CORS is configured correctly
```

### 5. –®–≤–∏–¥–∫–∏–π –¢–µ—Å—Ç –Ω–∞ iPhone (–ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –∑–º—ñ–Ω–∏)
```bash
# 1. Rebuild
./rebuild-ios.sh

# 2. Open Xcode
open src-cordova/platforms/ios/Soldout\ Event.xcworkspace

# 3. –£ Xcode: ‚åò‚áßK (Clean) ‚Üí ‚åòR (Run)

# 4. Safari Web Inspector
# Safari ‚Üí Develop ‚Üí [iPhone] ‚Üí Soldout Event
```

**–©–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏** (–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–∏–ø—É –∑–º—ñ–Ω–∏):
- ‚úÖ Cordova deviceready event fired
- ‚úÖ Login –ø—Ä–∞—Ü—é—î (–ø–µ—Ä–µ–≤—ñ—Ä Network tab –¥–ª—è CORS)
- ‚úÖ Remember Me checkbox –ø—Ä–∞—Ü—é—î
- ‚úÖ Logout –æ—á–∏—â—É—î –≤—Å—ñ –¥–∞–Ω—ñ
- ‚úÖ UI responsive —ñ transitions –ø–ª–∞–≤–Ω—ñ
- ‚úÖ –ù–µ–º–∞—î JavaScript errors –≤ Console

## Code Quality

### ESLint Rules
- No trailing spaces
- Proper indentation
- Use `::v-deep` instead of deprecated `/deep/`

### Console Logging
```javascript
// Use descriptive emojis for better readability
console.log('üîê LOGIN ATTEMPT:', {...})
console.log('‚úÖ SUCCESS:', data)
console.error('‚ùå ERROR:', error)
console.warn('‚ö†Ô∏è WARNING:', warning)
```

### Error Handling
```javascript
try {
  const response = await apiCall()
  return response.data
} catch (err) {
  console.error('‚ùå ERROR DETAILS ======')
  console.error('Status:', err.response?.status)
  console.error('Data:', err.response?.data)
  console.error('======================')
  
  // Store error for UI
  commit('setError', { error: {...} })
  
  // Don't throw - return null to prevent UI hanging
  return null
}
```

## Security Notes

### LocalStorage Data
- `userData`: { login, pass } - encrypted credentials (only if Remember Me)
- `savedAuth`: { accessToken, firstName, lastName, mail, phone } - session
- `rememberMe`: true/false - preference flag

### Token Management
- Access token stored in Vuex + LocalStorage (if Remember Me)
- Token format: `Bearer <JWT>`
- Auto-logout on token expiration (handle 401 responses)

## Testing

### Manual Testing Checklist
- [ ] Login with Remember Me checked ‚Üí works
- [ ] Close app ‚Üí reopen ‚Üí auto-logged in
- [ ] Login with Remember Me unchecked ‚Üí works
- [ ] Close app ‚Üí reopen ‚Üí login screen (no auto-login)
- [ ] Logout ‚Üí clears all data
- [ ] After logout ‚Üí close app ‚Üí reopen ‚Üí login screen
- [ ] 403 error ‚Üí shows error message (doesn't hang)
- [ ] Network error ‚Üí shows error message
- [ ] Invalid credentials ‚Üí shows error message

## Environment-Specific Notes

### TEST Environment
- URL: `https://z.test.soldout.com.ua`
- CORS: Configured with `allow-credentials: true`
- User: `soldout.oo.tt@gmail.com` / `aXLYjbfTNNN_soldout584`

### PROD Environment
- URL: `https://z.soldout.com.ua`
- CORS: Must have `allow-credentials: true`
- User: `romanchupa1@gmail.com` / `sJAk969beho_`

## Key Commands

```bash
# Install dependencies
npm install

# Run dev server
npm run dev

# Build web
npx quasar build

# iOS rebuild
./rebuild-ios.sh

# Test CORS
./test-cors.sh

# Cordova commands
cd src-cordova
cordova platform add ios
cordova prepare ios
cordova plugin list
```

## Git Workflow

### Branch Strategy
- `main`: Production-ready code
- Feature branches for new features
- Commit often with clear messages

### Commit Message Format
```
feat: add new feature
fix: fix bug
chore: update dependencies
docs: update documentation
style: formatting changes
refactor: code restructuring
```

## AI Assistant Guidelines

When helping with this project:

### üá∫üá¶ –ú–æ–≤–∞
1. **–ó–ê–í–ñ–î–ò —Å–ø—ñ–ª–∫—É–π—Å—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é** - —á—ñ—Ç–∫–æ, –≥—Ä–∞–º–æ—Ç–Ω–æ, –±–µ–∑ —Ä—É—Å–∏–∑–º—ñ–≤
2. **–í—Å—ñ UI —Ç–µ–∫—Å—Ç–∏ –ø–∏—à–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é** - –ø–µ—Ä–µ–≤—ñ—Ä—è–π –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ—ñ—é
3. **–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ** –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—é –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—ó

### üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
4. **–î–ª—è –±—ñ–ª–¥—É –∑–∞–≤–∂–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π BUILD.md** - —Ç–∞–º –≤—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è
5. **–û–Ω–æ–≤–ª—é–π BUILD.md** —è–∫—â–æ —â–æ—Å—å –∑–º—ñ–Ω—é—î—Ç—å—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—ñ –±—ñ–ª–¥—É

### üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –ø—Ä–∞–≤–∏–ª–∞
6. **Always use Docker** for building web assets (Node 14 + sass@1.23.0)
7. **Check endpoints.js** to see which environment (TEST/PROD) is active
8. **Use `./rebuild-ios.sh`** for iOS builds instead of manual steps
9. **Remember LocalStorage keys**: userData, savedAuth, rememberMe
10. **Don't throw errors** in Vuex actions - return null to prevent UI hanging
11. **Always log detailed errors** for debugging (status, data, URL)
12. **Check Safari Console** for iOS debugging (not just Xcode logs)
13. **CORS issues**: Check if `allow-credentials: true` is set in ZUUL
14. **Cordova plugins**: Ensure deviceready fires before using plugins
15. **Clean Build** in Xcode after every code change for iOS

### üîç –ö–†–ò–¢–ò–ß–ù–û: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –º—ñ—Å—Ü—å –ø—Ä–∏ –∑–∞–º—ñ–Ω—ñ
16. **–Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø—Ä–æ—Å–∏—Ç—å –∑–∞–º—ñ–Ω–∏—Ç–∏ "–≤—Å—ñ" –∞–±–æ "—É –≤—Å—ñ—Ö –º—ñ—Å—Ü—è—Ö"**:
    - **–ó–ê–í–ñ–î–ò** –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π `grep` –∞–±–æ `codebase_search` –¥–ª—è –ø–æ—à—É–∫—É –í–°–Ü–• –≤—Ö–æ–¥–∂–µ–Ω—å
    - –ü–µ—Ä–µ–≤—ñ—Ä—è–π:
      * –î–∂–µ—Ä–µ–ª—å–Ω—ñ —Ñ–∞–π–ª–∏ (`src/`)
      * –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ —Ñ–∞–π–ª–∏ (`.cursorrules`, `BUILD.md`, —Ç–æ—â–æ)
      * –ö–æ–º–µ–Ω—Ç–∞—Ä—ñ –≤ –∫–æ–¥—ñ
      * –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é
      * –ó—ñ–±—Ä–∞–Ω—ñ —Ñ–∞–π–ª–∏ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–±—É–¥—É–≤–∞—Ç–∏)
    - **–ù–ï –ø—Ä–∏–ø—É—Å–∫–∞–π** —â–æ –∑–Ω–∞–π—à–æ–≤ –≤—Å–µ - –∑–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è–π —á–µ—Ä–µ–∑ –ø–æ—à—É–∫!
    - –ü—ñ—Å–ª—è –∑–∞–º—ñ–Ω–∏ - **–ø–µ—Ä–µ–≤—ñ—Ä —â–µ —Ä–∞–∑** —á–µ—Ä–µ–∑ `grep` —â–æ –≤—Å—ñ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω—ñ
    - –Ø–∫—â–æ –∑–∞–º—ñ–Ω—é—î—à credentials/email/password - –ø–µ—Ä–µ–≤—ñ—Ä:
      * `src/pages/Login.vue` (default values, comments)
      * `.cursorrules` (documentation)
      * `BUILD.md` (documentation)
      * –ë—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ —Ñ–∞–π–ª–∏ –∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –∞–±–æ —Ç–µ—Å—Ç–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏

### üî¥ –í–ê–ñ–õ–ò–í–ï –ü–†–ê–í–ò–õ–û: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ iPhone

**–ü–Ü–°–õ–Ø –ö–û–ñ–ù–û–á –ó–ú–Ü–ù–ò –ö–û–î–£** (–æ—Å–æ–±–ª–∏–≤–æ —É —Ñ–∞–π–ª–∞—Ö `src/`, `src-cordova/config.xml`):

1. –ó–∞–≤–∂–¥–∏ –ø—Ä–æ–ø–æ–Ω—É–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—É:
   ```
   üì± –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω –Ω–∞ iPhone:
   1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å: ./rebuild-ios.sh
   2. –í—ñ–¥–∫—Ä–∏–π—Ç–µ: src-cordova/platforms/ios/Soldout Event.xcworkspace
   3. –£ Xcode: Clean Build Folder (‚åò‚áßK) ‚Üí Run (‚åòR)
   4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ Safari Web Inspector: Develop ‚Üí iPhone ‚Üí Soldout Event
   ```

2. –ù–∞–≥–∞–¥—É–π –ø—Ä–æ —Ü–µ –Ω–∞–≤—ñ—Ç—å –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –∑–º—ñ–Ω (—Å—Ç–∏–ª—ñ, —Ç–µ–∫—Å—Ç, –ª–æ–≥—ñ–∫–∞)

3. –Ø–∫—â–æ –∑–º—ñ–Ω–∞ —Å—Ç–æ—Å—É—î—Ç—å—Å—è:
   - **API/Axios**: –æ–±–æ–≤'—è–∑–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä CORS –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É –ø—Ä–∏—Å—Ç—Ä–æ—ó
   - **LocalStorage/Vuex**: –ø–µ—Ä–µ–≤—ñ—Ä –Ω–∞ iPhone (clear app data –º—ñ–∂ —Ç–µ—Å—Ç–∞–º–∏)
   - **Login/Logout**: —Ç–µ—Å—Ç—É–π –ø–æ–≤–Ω–∏–π flow –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó
   - **UI/–°—Ç–∏–ª—ñ**: –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è —â–æ responsive —ñ transitions –ø—Ä–∞—Ü—é—é—Ç—å

4. **–ù–ï –ø—Ä–∏–ø—É—Å–∫–∞–π** —â–æ –∑–º—ñ–Ω–∞ –ø—Ä–∞—Ü—é—î –±–µ–∑ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –Ω–∞ —Ñ—ñ–∑–∏—á–Ω–æ–º—É iPhone!

5. –Ø–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤—ñ–¥–æ–º–ª—è—î –ø—Ä–æ –ø—Ä–æ–±–ª–µ–º—É - –æ–¥—Ä–∞–∑—É –ø–∏—Ç–∞–π:
   - –¢–µ—Å—Ç—É–≤–∞–ª–∏ –Ω–∞ iPhone —á–∏ –≤ –±—Ä–∞—É–∑–µ—Ä—ñ?
   - –©–æ –ø–æ–∫–∞–∑—É—î Safari Web Inspector Console?
   - –Ø–∫—ñNetwork requests —É Safari Web Inspector?

## Quick Reference

### Switch Environment
```javascript
// src/api/endpoints.js
const serviceUrl = 'https://z.test.soldout.com.ua'   // TEST (default)
// const serviceUrl = 'https://z.soldout.com.ua'      // PROD
```
üõ† –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –∑–±–∏—Ä–∞–π TEST. –ü–µ—Ä–µ–¥ —Ä–µ–ª—ñ–∑–æ–º —É PROD –ø–µ—Ä–µ–º–∏–∫–∞–π serviceUrl —Ç–∞ —Ä–µ–±—ñ–ª–¥—å.

### Update Credentials
```javascript
// src/pages/Login.vue
// Default PROD credentials:
this.email = 'romanchupa1@gmail.com'
this.pass = 'sJAk969beho_'
```

### Rebuild iOS
```bash
./rebuild-ios.sh
# Then in Xcode: Clean Build Folder ‚Üí Run
```

### Debug iOS
```bash
# Safari: Develop ‚Üí iPhone ‚Üí Soldout Event
# Check Console, Network, Elements tabs
```

### –û–±–æ–≤'—è–∑–∫–æ–≤–∏–π —Ü–∏–∫–ª –ø—ñ—Å–ª—è –±—É–¥—å-—è–∫–∏—Ö –∑–º—ñ–Ω –∫–æ–¥—É
```bash
# 1) –ó—ñ–±—Ä–∞—Ç–∏ –≤—Å–µ:                ./rebuild-ios.sh
# 2) –í—ñ–¥–∫—Ä–∏—Ç–∏ Xcode –≤–æ—Ä–∫—Å–ø–µ–π—Å:   open src-cordova/platforms/ios/Soldout\ Event.xcworkspace
# 3) –£ Xcode: Clean (‚åò‚áßK) ‚Üí Run (‚åòR)
# 4) Safari Web Inspector: Develop ‚Üí iPhone ‚Üí Soldout Event
```
‚ö†Ô∏è –ó–∞–≤–∂–¥–∏ –≤–∏–∫–æ–Ω—É–π —Ü—ñ –∫—Ä–æ–∫–∏ –ø—ñ—Å–ª—è –∑–º—ñ–Ω, —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º—É iPhone.

## Important Notes

- **Never commit**: `node_modules/`, `dist/`, `src-cordova/platforms/`, `src-cordova/plugins/`, `src-cordova/www/`
- **Always commit**: Source files, config files, package.json
- **iOS Signing**: Requires manual setup in Xcode (cannot be automated)
- **Remember Me**: Stores both credentials AND auth state for instant login
- **Logout**: Must clear userData, savedAuth, AND rememberMe keys
- **Error Messages**: Show user-friendly messages, log technical details to console
- **Loading States**: Always stop spinner on error (don't leave UI hanging)

